#### 13. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –µ–≥–æ –º–∞—à–∏–Ω—ã: —Å–≤—è–∑—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–£—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏:**  
üîç **–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–ª–∞–¥–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –º–∞—à–∏–Ω–∞–º–∏, –∞ –∫–∞–∂–¥–∞—è –º–∞—à–∏–Ω–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.**

{{< hint warning >}}
**–°–ø–æ–π–ª–µ—Ä—ã –∫ —Ä–µ—à–µ–Ω–∏—é** ¬†
{{< /hint >}}

{{< details "–ü–æ–¥—Å–∫–∞–∑–∫–∏" close >}}
üí° –í `CAR` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–Ω–µ—à–Ω—è—è —Å–≤—è–∑—å (`FOREIGN KEY`) —Å `USER`, —É–∫–∞–∑—ã–≤–∞—é—â–∞—è –Ω–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞.  
üí° –ö–∞–∂–¥—ã–π `USER` –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –≤ `CAR`, –Ω–æ –∫–∞–∂–¥–∞—è `CAR` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –æ–¥–Ω–æ–º—É `USER`.  
üí° –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `JOIN`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ –∏—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª—è—Ö.
{{< /details >}}

{{< details "–†–µ—à–µ–Ω–∏–µ" close >}}

```sql
-- –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE USER (
    id INT PRIMARY KEY,
    name VARCHAR(50) NOT NULL
);

-- –ó–∞–ø–æ–ª–Ω—è–µ–º —Ç–∞–±–ª–∏—Ü—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
INSERT INTO USER (id, name) VALUES
(1, 'Ivan'),
(2, 'Oleg'),
(3, 'Anna'),
(4, 'Ivan'),
(5, 'Ted');

-- –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
CREATE TABLE CAR (
    id INT PRIMARY KEY,
    model VARCHAR(50) NOT NULL,
    user_id INT NOT NULL,
    FOREIGN KEY (user_id) REFERENCES USER(id) ON DELETE CASCADE
);

-- –ó–∞–ø–æ–ª–Ω—è–µ–º —Ç–∞–±–ª–∏—Ü—É –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
INSERT INTO CAR (id, model, user_id) VALUES
(4422, 'Opel 1', 1),
(4523, 'BMW 5', 2),
(4612, 'VW', 3),
(4853, 'BMW 6', 4);

-- –ó–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –º–∞—à–∏–Ω
SELECT 
    u.id AS user_id, 
    u.name AS user_name, 
    c.id AS car_id, 
    c.model AS car_model
FROM USER u
LEFT JOIN CAR c ON u.id = c.user_id
ORDER BY u.id;
```

‚úÖ **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è:**

- –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É `USER`, –≥–¥–µ `id` ‚Äî –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á.
- –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É `CAR`, –≥–¥–µ `user_id` ‚Äî –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å–≤—è–∑—ã–≤–∞—é—â–∏–π –º–∞—à–∏–Ω—É —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
- –î–æ–±–∞–≤–ª—è–µ–º `ON DELETE CASCADE`, —á—Ç–æ–±—ã –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–¥–∞–ª—è–ª–∏—Å—å –∏ –µ–≥–æ –º–∞—à–∏–Ω—ã.
- `LEFT JOIN` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–≤–µ—Å—Ç–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –¥–∞–∂–µ –µ—Å–ª–∏ —É –Ω–∏—Ö –Ω–µ—Ç –º–∞—à–∏–Ω—ã.
- `ORDER BY u.id` —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

üöÄ **–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ –∏—Ö –º–∞—à–∏–Ω–∞—Ö!** üî•
{{< /details >}}
